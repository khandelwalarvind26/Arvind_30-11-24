# Uptime Report Generator

---

## Requirements
- Python 3.8 or higher
- pip package manager

---

## Setup Instructions

Follow the steps below to set up and run the project locally:

1. **Clone the Repository**  
   ```bash
   git clone https://github.com/khandelwalarvind26/Arvind_30-11-24.git
   ```
   Navigate into the project folder:  
   ```bash
   cd Arvind_30-11-24
   ```

2. **Set Up a Virtual Environment**  
   Create a new virtual environment:  
   ```bash
   python -m venv venv
   ```
   Activate the virtual environment:  
   - On **Windows**:  
     ```bash
     .\venv\Scripts\activate
     ```
   - On **macOS/Linux**:  
     ```bash
     source venv/bin/activate
     ```

3. **Install Dependencies**  
   Install the required Python packages:  
   ```bash
   pip install -r requirements.txt
   ```

4. **Prepare Data**  
   Copy the required CSV files (`store_status.csv`, `menu_hours.csv`, `timezones.csv`) into the `ingestion/csv` directory.  
   Alternatively, download the demo data:  
   [Store Monitoring Data ZIP](https://storage.googleapis.com/hiring-problem-statements/store-monitoring-data.zip)  

   Extract the files and place them in the `ingestion/csv` directory.

5. **Prepare env**  
   Add your database_url to env file  
   ```bash
   DATABASE_URL="postgresql+asyncpg://USERNAME:PASSWORD@ADDRESS:PORT/DBNAME"
   ```

6. **Ingest Data**  
   Run the data ingestion script to load the data into the database:  
   ```bash
   python -m app.ingestion.ingestion
   ```

7. **Run the Application**  
   Start the API server:  
   ```bash
   uvicorn app.main:app --host 127.0.0.1 --port 8000 --reload
   ```

---

## How to Use
1. After starting the server, access the API documentation at:  
   [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

2. Use the interactive Swagger UI to explore and test the endpoints.

3. Go to any browser tab and make get request as
   ```bash
   http://127.0.0.1:8000/report/get?id=repot_id
   ```
   to download csv file for completed report

---

## Sample Report
You can view a sample report generated by the application from the following link:  
[Sample Uptime Report]()
